{"version":3,"file":"ManyDraggableObjects.stories.b82a7241.js","sources":["../../src/stress-tests/ManyDraggableObjects.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Layer, Rect } from \"react-konva\";\nimport { DraggableLayer } from \"../components/DraggableLayer\";\nimport { DraggableStage } from \"../components/DraggableStage/DraggableStage\";\nimport { FrameCounter } from \"../components/FrameCounter/FrameCounter\";\n\nconst rand = (min: number, max: number) => Math.random() * max - min + min;\n\nfunction mapCreate<T>(n: number, factory: () => T): T[] {\n  const items: T[] = [];\n\n  for (let i = 0; i < n; i++) {\n    items.push(factory());\n  }\n\n  return items;\n}\n\nconst getRandomItem = () => ({\n  x: rand(0, 500),\n  y: rand(0, 500),\n  fill: \"red\",\n  width: 50,\n  height: 50,\n  draggable: true,\n});\n\nconst getInitialItems = (count: number) => () => mapCreate(count, getRandomItem);\n\nexport type ManyDraggableObjectsProps = {\n  count: number;\n};\n\nexport function ManyDraggableObjects(props: ManyDraggableObjectsProps) {\n  const { count } = props;\n\n  return (\n    <DraggableStage width={500} height={500} bgFill=\"gray\">\n      <DraggableLayer>\n        {getInitialItems(count)().map((item, index) => (\n          <Rect {...item} key={index} />\n        ))}\n      </DraggableLayer>\n      <Layer>\n        <FrameCounter width={500} height={100} />\n      </Layer>\n    </DraggableStage>\n  );\n}\n"],"names":["items","count","_jsxs","_jsx","_createElement","item","index"],"mappings":"oSAMA,KAAA,GAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA,EAAA,EAEA,WAAA,EAAA,EAAA,CACE,KAAA,GAAA,CAAA,EAEA,OAAA,GAAA,EAAA,EAAA,EAAA,IACEA,EAAAA,KAAAA,EAAAA,CAAAA,EAGF,MAAA,EACD,CAED,KAAA,GAAA,IAAA,EAA6B,EAAA,EAAA,EAAA,GAAA,EACpB,EAAA,EAAA,EAAA,GAAA,EACA,KAAA,MACD,MAAA,GACC,OAAA,GACC,UAAA,EALmB,GAS7B,EAAA,AAAA,GAAA,IAAA,EAAA,EAAA,CAAA,EAMO,WAAA,EAAA,CACL,KAAA,CAAM,SAAEC,EAER,MAAAC,GAAA,EAAA,CACE,MAAA,IAAuB,OAAA,IAAa,OAAA,OAAY,SAAA,CAAAC,EAAA,EAAA,CAC9C,SAAA,EAAA,CAAA,IAAA,IAAA,CAAA,EAAA,IAAAC,EAAA,QAAA,cAAA,EAAA,MAEcC,IAAAA,CAAWC,CAAAA,CAAAA,CADtB,CAAA,EAAAH,EAAA,EAAA,CAIH,SAAAA,EAAA,EAAA,CACE,MAAA,IAAqB,OAAA,GAAa,CAAA,CAAlC,CAAA,CAAA,CAPJ,CAAA,CAWH;;;;;;;;;;;;;;;;;;;;;;;;"}